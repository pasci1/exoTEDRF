# ========================= BEGIN DMS CONFIG FILE =============================
#
# This is the configuration file for run_DMS.py.

# Path to CRDS cache.
crds_cache_path: './crds_cache/'

# Input data file directory.
input_dir: "Optimize_WASP39b/DMS_uncal"

# Input file tag.
input_filetag: 'uncal'

# Instrument mode used; e.g., 'NIRISS/SOSS', 'NIRSpec/G395H', 'MIRI/LRS'.
observing_mode: 'NIRSpec/PRISM'

# Type of filter or detector used. For SOSS, either 'CLEAR' or 'F277W'. 
# For NIRSpec, either 'NRS1' or 'NRS2'.
filter_detector: 'CLEAR'

# ===== Stage 1 Input Files & Parameters =====
DQInitStep: 'run'
EmiCorrStep: 'skip'
SaturationStep: 'run'
ResetStep: 'skip'
SuperBiasStep: 'run'
RefPixStep: 'run'
DarkCurrentStep: 'skip'
OneOverFStep_grp: 'run'
LinearityStep: 'run'
JumpStep: 'run'
RampFitStep: 'run'
GainScaleStep: 'run'
hot_pixel_map: None
superbias_method: 'crds'
soss_background_file: 'model_background256.npy'
oof_method: 'scale-achromatic'
soss_timeseries: None
soss_timeseries_o2: None
outlier_maps: None
soss_inner_mask_width: 40
soss_outer_mask_width: 70
nirspec_mask_width: 16
miri_drop_groups: 12
flag_up_ramp: True
jump_threshold: 15
flag_in_time: True
time_jump_threshold: 10
stage1_kwargs: {}

# ===== Stage 2 Input Files & Parameters =====
AssignWCSStep: 'run'
Extract2DStep: 'skip'
SourceTypeStep: 'run'
WaveCorrStep: 'skip'
FlatFieldStep: 'run'
BackgroundStep: 'run'
OneOverFStep_int: 'skip'
BadPixStep: 'run'
PCAReconstructStep: 'run'
TracingStep: 'run'
miri_trace_width: 20
miri_background_width: 14
miri_background_method: 'median'
space_outlier_threshold: 15
time_outlier_threshold: 10
pca_components: 10
remove_components: None
generate_lc: True
smoothing_scale: None
generate_order0_mask: False
f277w: None
stage2_kwargs: {}

# ===== Stage 3 Input Files & Parameters =====
extract_method: 'box'
extract_width: 30
soss_specprofile: None
st_teff: None
st_logg: None
st_met: None
planet_letter: 'b'
stage3_kwargs: {}

# ===== Other General Parameters =====
output_tag: ''
run_stages: [1]
save_results: False
force_redo: False
baseline_ints: 50
centroids: None
do_plots: False

# ========================= END DMS CONFIG FILE =============================
